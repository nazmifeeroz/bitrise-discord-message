#
# A couple of useful guides & docs:
#
# - Main Bitrise CLI docs: https://github.com/bitrise-io/bitrise/tree/master/_docs
# - Step Development Guideline: https://github.com/bitrise-io/bitrise/blob/master/_docs/step-development-guideline.md
# - Bitrise.yml format spec: https://github.com/bitrise-io/bitrise/blob/master/_docs/bitrise-yml-format-spec.md
# - Bitrise docs: http://devcenter.bitrise.io/
# - Bitrise CLI guides: http://devcenter.bitrise.io/bitrise-cli/

title: |-
  Send a Discord message
summary: |
  Send a [Discord](https://discordapp.com) message to a text channel
description: |
  Send a [Discord](https://discordapp.com) message to a text channel using Discord Webhooks

  To find your text channel **webhook** visit: [https://github.com/Akizo96/de.isekaidev.discord.wbbBridge/wiki/How-to-get-Webhook-ID-&-Token](https://github.com/Akizo96/de.isekaidev.discord.wbbBridge/wiki/How-to-get-Webhook-ID-&-Token)
website: https://gitlab.com/lighthouseit/packages/bitrise-discord-message
source_code_url: https://gitlab.com/lighthouseit/packages/bitrise-discord-message
support_url: https://gitlab.com/lighthouseit/packages/bitrise-discord-message/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04
type_tags:
  - notification
is_requires_admin_user: false
is_always_run: true
is_skippable: true

toolkit:
  bash:
    entry_file: step.sh

inputs:
  - is_debug_mode: 'no'
    opts:
      title: 'Debug mode?'
      description: |
        Setep prints additional debug information if this option is enabled
      value_options:
        - 'yes'
        - 'no'

  - webhook_url:
    opts:
      title: 'Discord channel Webhook URL'
      description: |
        **Either webhook\_url with webhook token is required.**

        To obtain the channel **Webhook** visit: https://github.com/Akizo96/de.isekaidev.discord.wbbBridge/wiki/How-to-get-Webhook-ID-&-Token
      is_required: true
      is_sensitive: true

  - preset_status: 'auto'
    opts:
      title: 'Set Specific Status'
      summary: ''
      description: |-
        If set, this step will set a specific status instead of reporting the current build status.

        Can be one of auto, running, success, failed or aborted.
        If you select `auto` the step will send `success` status if the current build status is success (no step failed previously)
        and `failed` status if the build previously failed.
      value_options:
        - 'auto'
        - 'running'
        - 'success'
        - 'failed'
        - 'aborted'
